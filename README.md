# GKNM PROJECT - QLVLXD

á»¨ng dá»¥ng Flutter quáº£n lÃ½ vÃ  bÃ¡n váº­t liá»‡u xÃ¢y dá»±ng cho cá»­a hÃ ng/siÃªu thá»‹. Há»‡ thá»‘ng há»— trá»£ quáº£n lÃ½ sáº£n pháº©m, tá»“n kho, hÃ³a Ä‘Æ¡n bÃ¡n hÃ ng, khÃ¡ch hÃ ng, nhÃ  cung cáº¥p vÃ  thá»‘ng kÃª doanh thu vá»›i Ä‘á»“ng bá»™ realtime qua Firebase.

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ” XÃ¡c thá»±c vÃ  PhÃ¢n quyá»n
- ÄÄƒng nháº­p báº±ng username/password hoáº·c email/password
- PhÃ¢n quyá»n Admin vÃ  NhÃ¢n viÃªn
- Admin: ToÃ n quyá»n quáº£n lÃ½ há»‡ thá»‘ng
- NhÃ¢n viÃªn: Chá»‰ xem vÃ  táº¡o hÃ³a Ä‘Æ¡n

### ğŸ“¦ Quáº£n lÃ½ Sáº£n pháº©m
- Danh sÃ¡ch sáº£n pháº©m vá»›i hÃ¬nh áº£nh, giÃ¡, sá»‘ lÆ°á»£ng tá»“n
- ThÃªm/Sá»­a/XÃ³a sáº£n pháº©m
- Lá»c theo danh má»¥c (Xi mÄƒng, Sáº¯t thÃ©p, Gáº¡ch, SÆ¡n, ...)
- TÃ¬m kiáº¿m sáº£n pháº©m nhanh
- Chá»¥p/Chá»n áº£nh sáº£n pháº©m tá»« camera hoáº·c thÆ° viá»‡n
- Cáº£nh bÃ¡o tá»“n kho tháº¥p

### ğŸ“Š Quáº£n lÃ½ Kho
- Hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng tá»“n kho realtime
- Cáº£nh bÃ¡o khi tá»“n kho tháº¥p
- Tá»± Ä‘á»™ng cáº­p nháº­t tá»“n kho khi bÃ¡n hÃ ng
- Tá»± Ä‘á»™ng cáº­p nháº­t tá»“n kho khi nháº­p hÃ ng

### ğŸ§¾ Quáº£n lÃ½ HÃ³a Ä‘Æ¡n
- Táº¡o hÃ³a Ä‘Æ¡n bÃ¡n hÃ ng nhanh
- Chá»n sáº£n pháº©m vÃ  sá»‘ lÆ°á»£ng
- TÃ­nh tá»•ng tiá»n + VAT (10%, cÃ³ thá»ƒ Ä‘iá»u chá»‰nh)
- **Chá»n khÃ¡ch hÃ ng tá»« danh sÃ¡ch Ä‘Ã£ lÆ°u** (icon search)
- Tá»± Ä‘á»™ng Ä‘iá»n thÃ´ng tin khÃ¡ch hÃ ng
- **Táº¡o vÃ  in PDF hÃ³a Ä‘Æ¡n** vá»›i font Unicode (tiáº¿ng Viá»‡t)
- Hiá»ƒn thá»‹ thÃ´ng tin khÃ¡ch hÃ ng vÃ  nhÃ¢n viÃªn bÃ¡n hÃ ng trong PDF
- LÆ°u lá»‹ch sá»­ hÃ³a Ä‘Æ¡n
- Tá»± Ä‘á»™ng cáº­p nháº­t tá»“n kho khi bÃ¡n
- **Tá»± Ä‘á»™ng cáº­p nháº­t tá»•ng mua hÃ ng cá»§a khÃ¡ch hÃ ng**

### ğŸ‘¥ Quáº£n lÃ½ KhÃ¡ch hÃ ng
- Danh sÃ¡ch khÃ¡ch hÃ ng vá»›i thÃ´ng tin Ä‘áº§y Ä‘á»§
- ThÃªm/Sá»­a/XÃ³a khÃ¡ch hÃ ng
- Xem tá»•ng mua hÃ ng cá»§a tá»«ng khÃ¡ch hÃ ng
- TÃ¬m kiáº¿m khÃ¡ch hÃ ng
- TÃ­ch há»£p vá»›i hÃ³a Ä‘Æ¡n: Chá»n khÃ¡ch hÃ ng tá»« danh sÃ¡ch khi táº¡o hÃ³a Ä‘Æ¡n

### ğŸ¢ Quáº£n lÃ½ NhÃ  cung cáº¥p (Admin only)
- Danh sÃ¡ch nhÃ  cung cáº¥p
- ThÃªm/Sá»­a/XÃ³a nhÃ  cung cáº¥p
- Lá»‹ch sá»­ nháº­p hÃ ng tá»« nhÃ  cung cáº¥p

### ğŸ“‹ Quáº£n lÃ½ ÄÆ¡n nháº­p hÃ ng (Admin only)
- Táº¡o Ä‘Æ¡n nháº­p hÃ ng
- Chá»n nhÃ  cung cáº¥p
- Chá»n sáº£n pháº©m vÃ  sá»‘ lÆ°á»£ng
- XÃ¡c nháº­n Ä‘Æ¡n nháº­p hÃ ng
- Tá»± Ä‘á»™ng cáº­p nháº­t tá»“n kho khi xÃ¡c nháº­n

### ğŸ‘¨â€ğŸ’¼ Quáº£n lÃ½ NhÃ¢n viÃªn (Admin only)
- Danh sÃ¡ch nhÃ¢n viÃªn
- ThÃªm/Sá»­a/XÃ³a nhÃ¢n viÃªn
- PhÃ¢n quyá»n Admin/NhÃ¢n viÃªn
- KÃ­ch hoáº¡t/VÃ´ hiá»‡u hÃ³a tÃ i khoáº£n
- Theo dÃµi nhÃ¢n viÃªn táº¡o hÃ³a Ä‘Æ¡n

### ğŸ“ˆ Thá»‘ng kÃª vÃ  BÃ¡o cÃ¡o
- Dashboard tá»•ng quan vá»›i KPI cards
- Doanh thu hÃ´m nay, thÃ¡ng nÃ y
- Tá»•ng giÃ¡ trá»‹ tá»“n kho
- Biá»ƒu Ä‘á»“ doanh thu theo ngÃ y
- Top sáº£n pháº©m bÃ¡n cháº¡y
- Thá»‘ng kÃª theo danh má»¥c
- Lá»c theo khoáº£ng thá»i gian

### âš™ï¸ CÃ i Ä‘áº·t
- ÄÄƒng xuáº¥t
- ThÃ´ng tin á»©ng dá»¥ng

## ğŸš€ Báº¯t Ä‘áº§u

### YÃªu cáº§u
- Flutter SDK >= 3.10.0
- Dart SDK >= 3.10.0
- Firebase project Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh

### CÃ i Ä‘áº·t

1. **Clone repository:**
```bash
git clone https://github.com/NhatKhanh-Lab/QLVLXD-Flutter.git
cd QLVLXD-Flutter
```

2. **CÃ i Ä‘áº·t dependencies:**
```bash
flutter pub get
```

3. **Cáº¥u hÃ¬nh Firebase:**
   - Táº¡o project táº¡i [Firebase Console](https://console.firebase.google.com/)
   - Táº£i file cáº¥u hÃ¬nh:
     - Android: `android/app/google-services.json`
     - iOS: `ios/Runner/GoogleService-Info.plist`
   - File `lib/firebase_options.dart` sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng generate khi cháº¡y `flutter pub get`

4. **Generate Hive Adapters (náº¿u cáº§n):**
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

5. **Cháº¡y á»©ng dá»¥ng:**
```bash
flutter run
```

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
lib/
â”œâ”€â”€ main.dart                      # Entry point
â”œâ”€â”€ firebase_options.dart          # Firebase configuration
â”œâ”€â”€ models/                        # Data models
â”‚   â”œâ”€â”€ product.dart              # Model sáº£n pháº©m
â”‚   â”œâ”€â”€ invoice.dart              # Model hÃ³a Ä‘Æ¡n
â”‚   â”œâ”€â”€ invoice_item.dart         # Model chi tiáº¿t hÃ³a Ä‘Æ¡n
â”‚   â”œâ”€â”€ customer.dart             # Model khÃ¡ch hÃ ng
â”‚   â”œâ”€â”€ supplier.dart             # Model nhÃ  cung cáº¥p
â”‚   â”œâ”€â”€ purchase_order.dart       # Model Ä‘Æ¡n nháº­p hÃ ng
â”‚   â””â”€â”€ user.dart                 # Model ngÆ°á»i dÃ¹ng
â”œâ”€â”€ screens/                       # UI Screens
â”‚   â”œâ”€â”€ login_screen.dart         # MÃ n hÃ¬nh Ä‘Äƒng nháº­p
â”‚   â”œâ”€â”€ home_screen.dart          # MÃ n hÃ¬nh chÃ­nh (Dashboard)
â”‚   â”œâ”€â”€ product_list_screen.dart  # Danh sÃ¡ch sáº£n pháº©m
â”‚   â”œâ”€â”€ add_edit_product_screen.dart  # ThÃªm/Sá»­a sáº£n pháº©m
â”‚   â”œâ”€â”€ invoice_screen.dart       # Táº¡o hÃ³a Ä‘Æ¡n
â”‚   â”œâ”€â”€ transaction_history_screen.dart  # Lá»‹ch sá»­ giao dá»‹ch
â”‚   â”œâ”€â”€ statistics_screen.dart    # Thá»‘ng kÃª
â”‚   â”œâ”€â”€ customer_list_screen.dart # Danh sÃ¡ch khÃ¡ch hÃ ng
â”‚   â”œâ”€â”€ add_edit_customer_screen.dart  # ThÃªm/Sá»­a khÃ¡ch hÃ ng
â”‚   â”œâ”€â”€ supplier_list_screen.dart # Danh sÃ¡ch nhÃ  cung cáº¥p
â”‚   â”œâ”€â”€ add_edit_supplier_screen.dart  # ThÃªm/Sá»­a nhÃ  cung cáº¥p
â”‚   â”œâ”€â”€ create_purchase_order_screen.dart  # Táº¡o Ä‘Æ¡n nháº­p hÃ ng
â”‚   â”œâ”€â”€ purchase_order_list_screen.dart  # Danh sÃ¡ch Ä‘Æ¡n nháº­p hÃ ng
â”‚   â”œâ”€â”€ user_management_screen.dart  # Quáº£n lÃ½ nhÃ¢n viÃªn
â”‚   â”œâ”€â”€ add_edit_user_screen.dart  # ThÃªm/Sá»­a nhÃ¢n viÃªn
â”‚   â”œâ”€â”€ low_stock_products_screen.dart  # Sáº£n pháº©m sáº¯p háº¿t hÃ ng
â”‚   â””â”€â”€ settings_screen.dart      # CÃ i Ä‘áº·t
â”œâ”€â”€ widgets/                       # Reusable widgets
â”‚   â”œâ”€â”€ invoice_item_widget.dart  # Widget chi tiáº¿t hÃ³a Ä‘Æ¡n
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/                      # Business logic
â”‚   â”œâ”€â”€ firestore_service.dart    # Firestore database service
â”‚   â”œâ”€â”€ firebase_auth_service.dart  # Firebase authentication
â”‚   â”œâ”€â”€ pdf_service.dart          # PDF generation service
â”‚   â”œâ”€â”€ firebase_analytics_service.dart  # Analytics
â”‚   â”œâ”€â”€ firebase_crashlytics_service.dart  # Crash reporting
â”‚   â”œâ”€â”€ firebase_messaging_service.dart  # Push notifications
â”‚   â”œâ”€â”€ firebase_remote_config_service.dart  # Remote config
â”‚   â””â”€â”€ firebase_storage_service.dart  # File storage
â””â”€â”€ providers/                     # State management
    â”œâ”€â”€ auth_provider.dart         # Authentication state
    â”œâ”€â”€ product_provider.dart      # Product state management
    â”œâ”€â”€ invoice_provider.dart      # Invoice state management
    â”œâ”€â”€ customer_provider.dart     # Customer state management
    â”œâ”€â”€ supplier_provider.dart     # Supplier state management
    â”œâ”€â”€ purchase_order_provider.dart  # Purchase order state
    â””â”€â”€ ...
```

## ğŸ“¦ Dependencies chÃ­nh

### Core
- **flutter**: SDK framework
- **provider**: State management
- **intl**: Format sá»‘, ngÃ y thÃ¡ng
- **uuid**: Táº¡o ID duy nháº¥t

### Firebase
- **firebase_core**: Firebase core
- **cloud_firestore**: Cloud database (realtime sync)
- **firebase_auth**: Authentication
- **firebase_storage**: File storage
- **firebase_analytics**: Analytics
- **firebase_crashlytics**: Crash reporting
- **firebase_messaging**: Push notifications
- **firebase_remote_config**: Remote configuration

### UI & Utilities
- **image_picker**: Chá»n/chá»¥p áº£nh
- **fl_chart**: Biá»ƒu Ä‘á»“
- **pdf**: PDF generation
- **printing**: Print PDF
- **google_fonts**: Font support

### Database (Legacy - cÃ³ thá»ƒ dÃ¹ng cho offline cache)
- **sqflite**: SQLite database (náº¿u cáº§n offline cache)
- **hive** / **hive_flutter**: Local storage (náº¿u cáº§n)

## ğŸ”§ Cáº¥u hÃ¬nh Firebase

### BÆ°á»›c 1: Táº¡o Firebase Project
1. Truy cáº­p [Firebase Console](https://console.firebase.google.com/)
2. Táº¡o project má»›i hoáº·c chá»n project hiá»‡n cÃ³
3. Báº­t cÃ¡c service cáº§n thiáº¿t:
   - Authentication (Email/Password)
   - Cloud Firestore
   - Storage
   - Analytics
   - Crashlytics

### BÆ°á»›c 2: Cáº¥u hÃ¬nh Android
1. VÃ o Project Settings â†’ Add app â†’ Android
2. Nháº­p package name: `com.example.quanlyvlxd`
3. Táº£i file `google-services.json`
4. Äáº·t vÃ o `android/app/google-services.json`

### BÆ°á»›c 3: Cáº¥u hÃ¬nh iOS
1. VÃ o Project Settings â†’ Add app â†’ iOS
2. Nháº­p Bundle ID: `com.example.quanlyvlxd`
3. Táº£i file `GoogleService-Info.plist`
4. Äáº·t vÃ o `ios/Runner/GoogleService-Info.plist`

### BÆ°á»›c 4: Cáº¥u hÃ¬nh Firestore Rules
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users collection
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Products collection
    match /products/{productId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // Invoices collection
    match /invoices/{invoiceId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // Customers collection
    match /customers/{customerId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // Suppliers collection
    match /suppliers/{supplierId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // Purchase orders collection
    match /purchase_orders/{orderId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
  }
}
```

## ğŸ“± MÃ n hÃ¬nh chÃ­nh

### ğŸ  Home Screen (Dashboard)
- KPI Cards: Tá»•ng sáº£n pháº©m, Tá»“n kho tháº¥p, Doanh thu hÃ´m nay, Doanh thu thÃ¡ng nÃ y
- Thao tÃ¡c nhanh: Táº¡o hÃ³a Ä‘Æ¡n, Xem lá»‹ch sá»­, Thá»‘ng kÃª, Quáº£n lÃ½ sáº£n pháº©m, v.v.
- Tá»•ng quan tÃ i chÃ­nh
- Sáº£n pháº©m sáº¯p háº¿t hÃ ng

### ğŸ“¦ Product List
- Grid/List view
- TÃ¬m kiáº¿m sáº£n pháº©m
- Lá»c theo danh má»¥c
- ThÃªm/Sá»­a/XÃ³a sáº£n pháº©m

### ğŸ§¾ Invoice Screen
- Táº¡o hÃ³a Ä‘Æ¡n má»›i
- **Chá»n khÃ¡ch hÃ ng tá»« danh sÃ¡ch** (icon search)
- Chá»n sáº£n pháº©m vÃ  sá»‘ lÆ°á»£ng
- TÃ­nh VAT tá»± Ä‘á»™ng
- **Xuáº¥t vÃ  in PDF hÃ³a Ä‘Æ¡n**
- Tá»± Ä‘á»™ng cáº­p nháº­t tá»“n kho vÃ  tá»•ng mua cá»§a khÃ¡ch hÃ ng

### ğŸ“Š Statistics Screen
- Biá»ƒu Ä‘á»“ doanh thu theo ngÃ y
- Top sáº£n pháº©m bÃ¡n cháº¡y
- Thá»‘ng kÃª tá»“n kho
- Lá»c theo khoáº£ng thá»i gian

### ğŸ‘¥ Customer List
- Danh sÃ¡ch khÃ¡ch hÃ ng
- Xem tá»•ng mua hÃ ng
- TÃ¬m kiáº¿m khÃ¡ch hÃ ng
- ThÃªm/Sá»­a/XÃ³a khÃ¡ch hÃ ng

### ğŸ‘¨â€ğŸ’¼ User Management (Admin only)
- Danh sÃ¡ch nhÃ¢n viÃªn
- PhÃ¢n quyá»n Admin/NhÃ¢n viÃªn
- KÃ­ch hoáº¡t/VÃ´ hiá»‡u hÃ³a tÃ i khoáº£n
- ThÃªm/Sá»­a/XÃ³a nhÃ¢n viÃªn

## ğŸ¨ UI/UX

- **Material Design 3**: Giao diá»‡n hiá»‡n Ä‘áº¡i, trá»±c quan
- **Responsive Design**: Tá»‘i Æ°u cho nhiá»u kÃ­ch thÆ°á»›c mÃ n hÃ¬nh
- **Dark/Light Theme**: Há»— trá»£ theme theo há»‡ thá»‘ng
- **Smooth Animations**: Animation mÆ°á»£t mÃ 
- **Intuitive Navigation**: Äiá»u hÆ°á»›ng dá»… sá»­ dá»¥ng

## ğŸ’¾ LÆ°u trá»¯ dá»¯ liá»‡u

- **Cloud**: Firebase Firestore (realtime sync)
- **Authentication**: Firebase Authentication
- **File Storage**: Firebase Storage (cho hÃ¬nh áº£nh)
- **Offline Support**: Firestore tá»± Ä‘á»™ng cache vÃ  sync khi cÃ³ máº¡ng

## ğŸ”’ Báº£o máº­t

- **Firebase Authentication**: XÃ¡c thá»±c ngÆ°á»i dÃ¹ng
- **Firestore Security Rules**: Báº£o vá»‡ dá»¯ liá»‡u
- **PhÃ¢n quyá»n**: Admin vÃ  NhÃ¢n viÃªn vá»›i quyá»n truy cáº­p khÃ¡c nhau
- **Data Encryption**: Dá»¯ liá»‡u Ä‘Æ°á»£c mÃ£ hÃ³a khi truyá»n vÃ  lÆ°u trá»¯

## ğŸ“ TÃ­nh nÄƒng Ä‘áº·c biá»‡t

### âœ¨ Äá»“ng bá»™ Realtime
- Táº¥t cáº£ dá»¯ liá»‡u Ä‘á»“ng bá»™ realtime qua Firestore
- Nhiá»u ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ lÃ m viá»‡c Ä‘á»“ng thá»i
- Tá»± Ä‘á»™ng cáº­p nháº­t khi cÃ³ thay Ä‘á»•i

### ğŸ“„ PDF Invoice
- HÃ³a Ä‘Æ¡n PDF chuyÃªn nghiá»‡p
- Há»— trá»£ font Unicode (tiáº¿ng Viá»‡t) vá»›i Roboto
- Hiá»ƒn thá»‹ thÃ´ng tin khÃ¡ch hÃ ng vÃ  nhÃ¢n viÃªn
- Layout hiá»‡n Ä‘áº¡i, nghiÃªm tÃºc

### ğŸ” Chá»n khÃ¡ch hÃ ng thÃ´ng minh
- Chá»n khÃ¡ch hÃ ng tá»« danh sÃ¡ch Ä‘Ã£ lÆ°u
- Tá»± Ä‘á»™ng Ä‘iá»n thÃ´ng tin
- Tá»± Ä‘á»™ng cáº­p nháº­t tá»•ng mua hÃ ng

## ğŸ› Xá»­ lÃ½ lá»—i

Náº¿u gáº·p lá»—i khi generate code:

```bash
flutter clean
flutter pub get
flutter pub run build_runner build --delete-conflicting-outputs
```

Náº¿u gáº·p lá»—i Firebase:

1. Kiá»ƒm tra file cáº¥u hÃ¬nh Ä‘Ã£ Ä‘áº·t Ä‘Ãºng vá»‹ trÃ­ chÆ°a
2. Kiá»ƒm tra Firestore Rules Ä‘Ã£ cáº¥u hÃ¬nh Ä‘Ãºng chÆ°a
3. Kiá»ƒm tra Authentication Ä‘Ã£ báº­t Email/Password chÆ°a

## ğŸ“ Há»— trá»£

Náº¿u cÃ³ váº¥n Ä‘á», vui lÃ²ng táº¡o [issue](https://github.com/NhatKhanh-Lab/QLVLXD-Flutter/issues) trÃªn repository.

## ğŸ‘¥ Contributors

- **Nguyá»…n HoÃ ng Giang** - 2280600758
- **VÃµ Nháº­t KhÃ¡nh** - 2280601481
- **LÃª Pháº¡m Máº«n** - 2280601902
- **Tráº§n HoÃ i Nam** - 2280602037

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c táº¡o cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  thÆ°Æ¡ng máº¡i.

---

**GKNM PROJECT - QLVLXD** ğŸ—ï¸

*Há»‡ thá»‘ng quáº£n lÃ½ bÃ¡n váº­t liá»‡u xÃ¢y dá»±ng hiá»‡n Ä‘áº¡i, hiá»‡u quáº£*
